# API –¥–ª—è –æ–±–∑–æ—Ä–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
#### –≠—Ç–æ—Ç API –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–Ω–µ—á–Ω—ã–µ —Ç–æ—á–∫–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏, –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ –æ–±–∑–æ—Ä–∞–º–∏.

### –ü–æ–¥—Ä–æ–±–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ [Swagger](http://localhost:8080/swagger-ui/index.html).

## Enpoints
### –ü—Ä–æ–¥—É–∫—Ç—ã
- GET /api/products/{id}: –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç –ø–æ ID.
- PUT /api/products/{id}: –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç –ø–æ ID.
- DELETE /api/products/{id}: –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç –ø–æ ID.
- GET /api/products: –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø—Ä–æ–¥—É–∫—Ç—ã —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π.
- POST /api/products: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç.
### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
- GET /api/categories/{id}: –ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –ø–æ ID.
- PUT /api/categories/{id}: –û–±–Ω–æ–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –ø–æ ID.
- DELETE /api/categories/{id}: –£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –ø–æ ID.
- GET /api/categories: –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.
- POST /api/categories: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é.
### –û–±–∑–æ—Ä—ã
- GET /api/reviews/{id}: –ü–æ–ª—É—á–∏—Ç—å –æ–±–∑–æ—Ä –ø–æ ID.
- PUT /api/reviews/{id}: –û–±–Ω–æ–≤–∏—Ç—å –æ–±–∑–æ—Ä –ø–æ ID.
- DELETE /api/reviews/{id}: –£–¥–∞–ª–∏—Ç—å –æ–±–∑–æ—Ä –ø–æ ID.
- POST /api/reviews/products/{productId}: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –æ–±–∑–æ—Ä –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∞.
- GET /api/reviews: –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –æ–±–∑–æ—Ä—ã.

## –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
### –° –ø–æ–º–æ—â—å—é docker-compose
–î–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é docker-compose –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É –≤ –∫–æ—Ä–Ω–µ–≤–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
docker-compose up
```


## –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
–ü–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–æ–¥–µ–ª—è—Ö –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Swagger.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
API –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É http://localhost:8080. –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ Postman –∏–ª–∏ curl, –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –∫–æ–Ω–µ—á–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏ API.

##### –ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç –ø–æ ID:

GET http://localhost:8080/api/products/1

–ß—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –æ–±–∑–æ—Ä –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∞:

POST http://localhost:8080/api/reviews/products/1
Content-Type: application/json

```json
{
"rating": 4,
"comment": "–û—Ç–ª–∏—á–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç!",
"productId": 1
}
```

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Criteria API –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤.
–ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø—Ä–æ–¥—É–∫—Ç—ã —Å —Ü–µ–Ω–æ–π –æ—Ç 1000 –¥–æ 2000 –∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–º –æ—Ç 4 –¥–æ 5:

–ù—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å:
```http request
GET http://localhost:8080/api/products?page=0&size=10&sort=desc&sortBy=price&maxPrice=500000&categoryId=1
```
–†–µ–∑—É–ª—å—Ç–∞—Ç
```json
{
    "content": [
        {
            "id": 2,
            "price": 295835,
            "categoryId": 1,
            "averageRating": 2.8,
            "name": "Product 2 in Electronics",
            "description": "This is a product description."
        },
        {
            "id": 5,
            "price": 294944,
            "categoryId": 1,
            "averageRating": 1.4,
            "name": "Product 5 in Electronics",
            "description": "This is a product description."
        },
        {
            "id": 3,
            "price": 110734,
            "categoryId": 1,
            "averageRating": 3.4,
            "name": "Product 3 in Electronics",
            "description": "This is a product description."
        },
        {
            "id": 1,
            "price": 71326,
            "categoryId": 1,
            "averageRating": 2.2,
            "name": "Product 1 in Electronics",
            "description": "This is a product description."
        }
    ],
    "pageable": {
        "pageNumber": 0,
        "pageSize": 10,
        "sort": {
            "empty": false,
            "unsorted": false,
            "sorted": true
        },
        "offset": 0,
        "paged": true,
        "unpaged": false
    },
    "last": true,
    "totalPages": 1,
    "totalElements": 4,
    "first": true,
    "size": 10,
    "number": 0,
    "sort": {
        "empty": false,
        "unsorted": false,
        "sorted": true
    },
    "numberOfElements": 4,
    "empty": false
}
```
–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —è–≤–ª—è—é—Ç—Å—è –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏.
#### –°–ø–∏—Å–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- minPrice: –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞.
- maxPrice: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞.
- minRating: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ –ø—Ä–æ–¥—É–∫—Ç–∞.
- maxRating: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ –ø—Ä–æ–¥—É–∫—Ç–∞.
- page: –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
- size: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.
- sort: –ü–æ–ª–µ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, sort=price. –í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: price, avarageRating.
- sortBy: –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏. –í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: asc, desc.
- categoryId: ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–∞.
- description: –ü–æ–∏—Å–∫ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é –ø—Ä–æ–¥—É–∫—Ç–∞.



–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Swagger –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –∏ –æ—Ç–≤–µ—Ç–∞—Ö –∫–∞–∂–¥–æ–π –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–∏. üöÄ


# Consumer 
–î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å API –±—ã–ª —Å–æ–∑–¥–∞–Ω –ø—Ä–æ—Å—Ç–æ–π –∫–ª–∏–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å API —Å –ø–æ–º–æ—â—å—é RestTemplate.

## –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ 
```bash
docker compose up
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–∑–æ–≤–æ–≤ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –û–Ω–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –ª–æ–≥–≥–µ—Ä–∞.
